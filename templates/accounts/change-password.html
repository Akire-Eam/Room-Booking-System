{% load crispy_forms_tags %}

<form method="POST" action="" novalidate>
    {% csrf_token %}

        <div class="modal-header">
            <h5 class="modal-title ms-1" id="exampleModalLabel">Change User Password</h5>
            <button type="button" class="btn-close m-0" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        {% if isGoogle %}
        <div class="modal-body flex-column">
            <p class="text-center">This user is using Google Authentication. You cannot change the password.</p>

        </div>
        {% else %}
        <div class="modal-body flex-column">
            {{pw.old_password | as_crispy_field}}
            {{pw.new_password1 | as_crispy_field}}
            {{pw.new_password2| as_crispy_field}}
        </div>

        {% endif %}

        <div class="modal-footer">
           
        
            {% if not isGoogle %}
            <button type="submit" class="btn btn-danger btn-sm" data-bs-dismiss="modal" id="edit"><i class="fa-solid fa-floppy-disk mr-2"></i>Save</button>
        {% endif %}

        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Cancel</button>

        </div>

    </form>
